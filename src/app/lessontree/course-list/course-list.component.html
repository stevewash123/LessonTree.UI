<!-- src/app/lessontree/course-list/course-list.component.html -->
<div class="course-list-wrapper">
    <div class="course-header-container">
      <h2 class="courses-header">Courses ({{courses.length || 0}})</h2>
      <mat-icon class="filter-icon" (click)="openFilterDialog()" matTooltip="Filter Courses">filter_list</mat-icon>
    </div>
    
    @for (course of courses; track course.id) {        
      <mat-card class="course-card">
        <div class="tree-view-container">
          <app-tree
            style="width:100%"
            [course]="course"
            [courseManagement]="this"
            [refreshTrigger]="refreshTrigger"
            [newNode]="newNode"
            (nodeDragStop)="onTopicMoved($event)"
            (nodeSelected)="onNodeSelected($event)"
            (lessonMoved)="onLessonMoved($event)"
            (addNodeRequested)="onAddNodeRequested($event)"
          ></app-tree>
        </div>
      </mat-card>
    }
    
    <div class="add-course-button">
      <button mat-raised-button color="primary" (click)="addCourse()">Add Course</button>
    </div>    
  </div>